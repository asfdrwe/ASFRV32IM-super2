IVERILOG = iverilog

PROGRAM = RV32IM-3new2
SRC = RV32IM-3new2.v
SRC_TEST = ../RV32IM-testbench/RV32IM-3_moftest.v
PROGRAM_UART = RV32IM-3new2_uart
SRC_UART_TEST = ../RV32IM-testbench/RV32IM-3_uart_moftest.v
PROGRAM_COREMARK = RV32IM-3new2_coremark
SRC_COREMARK_TEST = ../RV32IM-testbench/RV32IM-3_coremark_moftest.v

PROG = $(PROGRAM) $(PROGRAM_UART) $(PROGRAM_COREMARK)

all: $(PROG)

$(PROGRAM): $(SRC) $(SRC_TEST)
	$(IVERILOG) -o $(PROGRAM) $(SRC) $(SRC_TEST)
$(PROGRAM_UART): $(SRC) $(SRC_UART_TEST)
	$(IVERILOG) -o $(PROGRAM_UART) $(SRC) $(SRC_UART_TEST)
$(PROGRAM_COREMARK): $(SRC) $(SRC_COREMARK_TEST)
	$(IVERILOG) -o $(PROGRAM_COREMARK) $(SRC) $(SRC_COREMARK_TEST)
	
clean:
	rm -f $(PROG)
